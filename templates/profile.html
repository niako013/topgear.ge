{% extends "base.html" %}

{% block title %}áƒ©áƒ”áƒ›áƒ˜ áƒáƒ áƒáƒ¤áƒ˜áƒšáƒ˜ - Top Gear{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2 class="mb-4">ğŸ‘‹ áƒ›áƒáƒ’áƒ”áƒ¡áƒáƒšáƒ›áƒ”áƒ‘áƒ˜áƒ—, {{ current_user.username }}</h2>

    <div class="card shadow-sm border-0">
        <div class="card-header bg-primary text-white">
            <h5 class="mb-0">ğŸ“‹ áƒ—áƒ¥áƒ•áƒ”áƒœáƒ˜ áƒ¯áƒáƒ•áƒ¨áƒœáƒ”áƒ‘áƒ˜</h5>
        </div>
        <div class="card-body">
            {% if bookings %}
                <div class="table-responsive">
                    <table class="table table-hover align-middle">
                        <thead class="table-light">
                            <tr>
                                <th>áƒ›áƒáƒœáƒ¥áƒáƒœáƒ</th>
                                <th>áƒ—áƒáƒ áƒ˜áƒ¦áƒ˜</th>
                                <th>áƒ¢áƒ˜áƒáƒ˜</th>
                                <th>áƒ¤áƒáƒ¡áƒ˜</th>
                                <th>áƒ›áƒáƒ¥áƒ›áƒ”áƒ“áƒ”áƒ‘áƒ</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for booking in bookings %}
                            <tr>
                                <td>
                                    <strong>{{ booking.car.brand }} {{ booking.car.model }}</strong>
                                </td>
                                <td>{{ booking.date.strftime('%d-%m-%Y %H:%M') }}</td>
                                <td>
                                    <span class="badge {{ 'bg-info' if booking.duration_type == 'áƒ¡áƒáƒáƒ—áƒáƒ‘áƒ áƒ˜áƒ•áƒ˜' else 'bg-success' }}">
                                        {{ booking.duration_type }}
                                    </span>
                                </td>
                                <td>
                                    {% if booking.duration_type == 'áƒ¡áƒáƒáƒ—áƒáƒ‘áƒ áƒ˜áƒ•áƒ˜' %}
                                        {{ booking.car.price_hourly }} â‚¾ / áƒ¡áƒ—
                                    {% else %}
                                        {{ booking.car.price_daily }} â‚¾ / áƒ“áƒ¦áƒ”
                                    {% endif %}
                                </td>
                                <td>
                                    <a href="{{ url_for('cancel_booking', booking_id=booking.id) }}"
                                       class="btn btn-outline-danger btn-sm"
                                       onclick="return confirm('áƒœáƒáƒ›áƒ“áƒ•áƒ˜áƒšáƒáƒ“ áƒ’áƒ¡áƒ£áƒ áƒ— áƒ¯áƒáƒ•áƒ¨áƒœáƒ˜áƒ¡ áƒ’áƒáƒ£áƒ¥áƒ›áƒ”áƒ‘áƒ?')">
                                        áƒ’áƒáƒ£áƒ¥áƒ›áƒ”áƒ‘áƒ
                                    </a>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            {% else %}
                <p class="text-muted">áƒ—áƒ¥áƒ•áƒ”áƒœ áƒ¯áƒ”áƒ  áƒáƒ  áƒ’áƒáƒ¥áƒ•áƒ— áƒáƒ¥áƒ¢áƒ˜áƒ£áƒ áƒ˜ áƒ¯áƒáƒ•áƒ¨áƒœáƒ”áƒ‘áƒ˜.</p>
                <a href="{{ url_for('cars') }}" class="btn btn-primary">áƒ“áƒáƒáƒ—áƒ•áƒáƒšáƒ˜áƒ”áƒ áƒ” áƒ™áƒáƒ¢áƒáƒšáƒáƒ’áƒ˜</a>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}